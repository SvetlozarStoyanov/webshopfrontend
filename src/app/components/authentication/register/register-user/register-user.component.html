<h3 class="">
    Personal Details
</h3>
<article [formGroup]="registerForm" class="d-flex flex-column gap-3 border border-2 border-white p-4 rounded-5 w-100">
    <div class="form-group">
        <label class="form-label">Username</label>
        <input class="form-control rounded-5" type="text" [appNameNotTaken]="userNames"
            [class]="registerForm.get('userName')!.touched && registerForm.get('userName')!.errors ? 'border border-2 border-danger text-danger' : ''"
            pattern="^[A-Za-z0-9 ]+$" formControlName="userName" />
        <div class="error-tooltip m-2 p-2 border border-1 border-white rounded-4 text-center bg-danger text-white"
            [class]="registerForm.get('userName')!.touched && registerForm.get('userName')!.errors ? 'invalid-field' : ''">
            @if (registerForm.get('userName')!.errors?.['required']) {
            <span>
                This field is required!
            </span>
            } @else if (registerForm.get('userName')!.errors?.['minlength']) {
            <span>
                Must be at least 3 characters long!
            </span>
            } @else if(registerForm.get('userName')!.errors?.['forbidden']) {
            <span>
                Username is already taken!
            </span>
            }
        </div>
    </div>
    <div class="d-flex flex-lg-row flex-column justify-content-between gap-2">
        <div class="form-group">
            <label for="firstName" class="form-label">First Name</label>
            <input class="form-control rounded-5" for="firstName" name="firstName" type="text"
                [class]="(registerForm.get('firstName')!.touched && registerForm.get('firstName')!.errors) ? 'border border-2 border-danger text-danger' : ''"
                formControlName="firstName" />
            <div class="error-tooltip m-2 p-2 border border-1 border-white rounded-4 text-center bg-danger text-white"
                [class]="registerForm.get('firstName')!.touched && registerForm.get('firstName')!.errors ? 'invalid-field' : ''">
                @if (registerForm.get('firstName')!.errors?.['required']) {
                <span>
                    This field is required!
                </span>
                } @else if (registerForm.get('firstName')!.errors?.['minlength']) {
                <span>
                    Must be at least 2 characters long!
                </span>
                } @else if (registerForm.get('firstName')!.errors?.['pattern']) {
                <span>
                    Must contain only characters!
                </span>
                }

            </div>
        </div>
        <div class="form-group">
            <label for="lastName" class="form-label">Last Name</label>
            <input class="form-control rounded-5" for="lastName" name="lastName" type="text" formControlName="lastName"
                [class]="(registerForm.get('lastName')!.touched && registerForm.get('lastName')!.errors) ? 'border border-2 border-danger text-danger' : ''" />
            <div class="error-tooltip m-2 p-2 border border-1 border-white rounded-4 text-center bg-danger text-white"
                [class]="registerForm.get('lastName')!.touched && registerForm.get('lastName')!.errors ? 'invalid-field' : ''">
                @if (registerForm.get('lastName')!.errors?.['required']) {
                <span>
                    This field is required!
                </span>
                } @else if (registerForm.get('lastName')!.errors?.['minlength']) {
                <span>
                    Must be at least 2 characters long!
                </span>
                } @else if (registerForm.get('lastName')!.errors?.['pattern']) {
                <span>
                    Must contain only characters!
                </span>
                }
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="middleName" class="form-label">Middle Name</label>
        <input class="form-control rounded-5" for="middleName" name="middleName" type="text"
            [class]="(registerForm.get('middleName')!.touched && registerForm.get('middleName')!.errors) ? 'border border-2 border-danger text-danger' : ''"
            formControlName="middleName" pattern="^[A-Za-z ]+$" />
        <div class="error-tooltip m-2 p-2 border border-1 border-white rounded-4 text-center bg-danger text-white"
            [class]="registerForm.get('middleName')!.touched && registerForm.get('middleName')!.errors ? 'invalid-field' : ''">
            @if (registerForm.get('middleName')!.errors?.['pattern']) {
            <span>
                Must contain only characters!
            </span>
            }
        </div>
    </div>
    <div class="form-group">
        <label class="form-label" for="password">Password</label>
        <input class="form-control rounded-5"
            [class]="registerForm.get('password')!.touched && (registerForm.get('password')!.errors) ? 'border border-2 border-danger text-danger' : ''"
            for="password" name="password" type="password" formControlName="password" />
        <div class="error-tooltip m-2 p-2 border border-1 border-white rounded-4 text-center bg-danger text-white"
            [class]="registerForm.get('password')!.touched && registerForm.get('password')!.errors ? 'invalid-field' : ''">
            @if (registerForm.get('password')!.touched){
            @if( registerForm.get('password')!.errors?.['required']) {
            <span>
                This field is required!
            </span>
            } @if( registerForm.get('password')!.errors?.['minlength']) {
            <span>
                Must be 5 at least characters long!
            </span>
            }
            }
        </div>
    </div>
</article>